@model List<Resume_Builder.Models.UserDetails>
@{
    ViewData["Title"] = "Preview";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<link rel="stylesheet" href="~/css/style.css" />
<div class="d-grid col-2 mx-auto mt-4">

</div>
<a class="d-grid col-2 mx-auto mt-4" style="text-decoration:none; color:black; border: 1px solid black; padding: 5px; display: block; text-align: center;" href="~/img/resume.pdf" download>
    Download PDF
</a>


<div class="container d-flex justify-content-center p-4">
    <div class="row pdf bg-light" id="divToPrint">
        <div class="d-flex align-items-center justify-content-center col-md-5 bg-1 p-0 py-2">
            <div>
                <div class="d-flex justify-content-center">
                    <img src="@Model.FirstOrDefault()?.Picture" asp-append-version="true" class="pdf-profile-image" alt="Profile Picture" />
                </div>
                <div class="text-center vstack minBreakpoint-xs">
                    <span class="font-bold m-0">@Model.FirstOrDefault()?.Name</span>
                    <span class="font-thin m-0">@Model.FirstOrDefault()?.City</span>
                    <p>@Model.FirstOrDefault()?.Describe</p>
                    <p>
                        <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" height="20" width="20" xmlns="http://www.w3.org/2000/svg">
                            <path fill-rule="evenodd" d="M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z" clip-rule="evenodd"></path>
                        </svg>
                        @Model.FirstOrDefault()?.Position
                    </p>
                    <p>
                        <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" height="20" width="20" xmlns="http://www.w3.org/2000/svg">
                            <path fill-rule="evenodd" d="M4 4a2 2 0 012-2h8a2 2 0 012 2v12a1 1 0 110 2h-3a1 1 0 01-1-1v-2a1 1 0 00-1-1H9a1 1 0 00-1 1v2a1 1 0 01-1 1H4a1 1 0 110-2V4zm3 1h2v2H7V5zm2 4H7v2h2V9zm2-4h2v2h-2V5zm2 4h-2v2h2V9z" clip-rule="evenodd"></path>
                        </svg>
                        @Model.FirstOrDefault()?.Email
                    </p>
                    <p>
                        <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" height="20" width="20" xmlns="http://www.w3.org/2000/svg">
                            <path fill-rule="evenodd" d="M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z" clip-rule="evenodd"></path>
                        </svg>
                        @Model.FirstOrDefault()?.Contact
                    </p>
                    <p>
                        <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" height="20" width="20" xmlns="http://www.w3.org/2000/svg">
                            <path fill-rule="evenodd" d="M4 4a2 2 0 012-2h8a2 2 0 012 2v12a1 1 0 110 2h-3a1 1 0 01-1-1v-2a1 1 0 00-1-1H9a1 1 0 00-1 1v2a1 1 0 01-1 1H4a1 1 0 110-2V4zm3 1h2v2H7V5zm2 4H7v2h2V9zm2-4h2v2h-2V5zm2 4h-2v2h2V9z" clip-rule="evenodd"></path>
                        </svg>
                        @Model.FirstOrDefault()?.Git
                    </p>
                    <p>
                        <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" height="20" width="20" xmlns="http://www.w3.org/2000/svg">
                            <path fill-rule="evenodd" d="M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z" clip-rule="evenodd"></path>
                        </svg>
                        @Model.FirstOrDefault()?.LinkedIn
                    </p>
                    <p>
                        <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 20 20" height="20" width="20" xmlns="http://www.w3.org/2000/svg">
                            <path fill-rule="evenodd" d="M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z" clip-rule="evenodd"></path>
                        </svg>
                        @Model.FirstOrDefault()?.WebLink
                    </p>
                </div>
            </div>
        </div>
        <div class="d-flex align-items-center col-md-7 p-0 py-4">
            <div>
                <div class="px-4 py-1">
                    <h4 class="title">Skills</h4>
                    <p class="text-break">@Model.FirstOrDefault()?.Skills</p>

                    <hr />
                </div>
                <div class="px-4 py-1">
                    <h4 class="title">About Me</h4>
                    <p class="text-break">@Model.FirstOrDefault()?.AboutText</p>
                    <hr />
                </div>
                <div class="px-4 py-1">
                    <h4 class="title">Education</h4>
                    <p class="text-break">@Model.FirstOrDefault()?.EducationSchoolCollege</p>
                    <p class="text-break">@Model.FirstOrDefault()?.EducationDegree</p>
                    <p class="text-break">@Model.FirstOrDefault()?.EducationFieldofstudy</p>
                    <p class="text-break">@Model.FirstOrDefault()?.EducationStartYear</p>
                    <p class="text-break">@Model.FirstOrDefault()?.EducationEndYear</p>
                    <p class="text-break">@Model.FirstOrDefault()?.EducationGrade</p>
                    <hr />
                </div>
                <div class="px-4">
                    <h4 class="title">Experience</h4>
                    <div class="experience-item">
                        <h5>@Model.FirstOrDefault()?.ExperienceTitle</h5>
                        <p class="text-break">@Model.FirstOrDefault()?.CompanyName</p>
                        <p class="text-break">@(Model.FirstOrDefault()?.ExperienceStartMonthYear?.ToShortDateString()) - @(Model.FirstOrDefault()?.ExperienceEndMonthYear?.ToShortDateString())</p>
                        <p class="text-break">@Model.FirstOrDefault()?.ExperienceLocation</p>
                        <p class="text-break">@Model.FirstOrDefault()?.ExperienceDescription</p>
                    </div>
                    <hr />
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    // Function to trigger the download
    function downloadPDF() {
        // Path to your PDF file
        var pdfPath = "~img/resume.pdf";


        // Create a temporary link element
        var link = document.createElement("a");
        link.href = pdfPath;
        link.download = "resume.pdf"; // Set the filename for the download
        link.target = "_blank";

        // Append the link to the body
        document.body.appendChild(link);

        // Trigger the click event on the link
        link.click();

        // Remove the link from the body
        document.body.removeChild(link);
    }

    // Add event listener to the download button
    document.getElementById("downloadButton").addEventListener("click", downloadPDF);
</script>